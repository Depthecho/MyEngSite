{% extends 'grammarpage/grammar_base.html' %}
{% load static %}
{% load i18n %}

{% block grammar_title %}{% translate "Used to" %}{% endblock %}

{% block extra_css %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'style/grammar_list.css' %}">
    <style>
        .main-container {
            padding-top: 40px;
        }

        .grammar-detail-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            color: #e0e0e0;
        }

        h3, h4 {
            color: #ff9e7d;
            border-bottom: 2px solid #444;
            padding-bottom: 5px;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h3 {
            font-size: 24px;
        }

        h4 {
            font-size: 20px;
            margin-top: 25px;
        }

        h5 {
            font-size: 18px;
            color: #83e8de;
            margin-top: 15px;
            margin-bottom: 10px;
        }

        p {
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .grammar-divider {
            border: 1px solid #444;
            margin: 20px 0;
        }

        .styled-list {
            list-style-type: none;
            padding-left: 20px;
        }

        .styled-list li {
            margin: 8px 0;
            position: relative;
            padding-left: 25px;
        }

        .styled-list li:before {
            content: "•";
            color: #4cc9f0;
            font-weight: bold;
            position: absolute;
            left: 0;
            top: 0;
        }
        
        .styled-list .styled-list li:before {
            content: "-";
        }
        
        .styled-list .styled-list .styled-list li:before {
            content: "•";
        }

        .styled-list li ul.styled-list {
            margin-top: 5px;
        }

        .styled-list li ul.styled-list li {
            padding-left: 15px;
            margin: 4px 0;
        }

        .term-highlight, .pronoun-highlight {
            color: #ff9e7d;
            font-weight: 600;
        }
        
        .auxiliary-highlight {
            color: #83e8de;
            font-weight: 600;
        }

        .verb-highlight {
            color: #ffda47;
            font-weight: 600;
        }

        .code-highlight {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.2);
            display: inline-block;
            margin: 5px 0;
            padding: 2px 4px;
            border-radius: 4px;
            color: #83e8de;
            white-space: nowrap;
        }

        .example-highlight {
            color: #4cc9f0;
            font-weight: 500;
        }

        .grammar-table-container {
            overflow-x: auto;
            margin: 20px 0;
        }

        .grammar-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 0, 0, 0.1);
        }

        .grammar-table th, .grammar-table td {
            border: 1px solid #444;
            padding: 10px;
            text-align: left;
        }

        .grammar-table th {
            background: rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }

        .back-to-list-btn {
            display: inline-block;
            margin-top: 30px;
            padding: 10px 20px;
            background-color: #4cc9f0;
            color: #1e1e1e;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .back-to-list-btn:hover {
            background-color: #ff9e7d;
        }
        
        @media (max-width: 600px) {
            .grammar-detail-container {
                padding: 10px;
            }
        }
    </style>
{% endblock %}

{% block grammar_content %}
    <div class="grammar-detail-container">
        <nav class="breadcrumbs">
            <a href="{% url 'home' %}">{% translate "Home" %}</a> &raquo;
            <span><a href="{% url 'grammar_page' %}">{% translate "Grammar" %}</a></span> &raquo;
            <span><a href="{% url 'verbs_page' %}">{% translate "Verbs" %}</a></span> &raquo;
            <span>{% translate "Used to" %}</span>
        </nav>
        
        <h1>{% translate "Used to" %}</h1>
        <p>
            {% translate "The expression <span class=\"term-highlight\">Used to</span> is a semi-modal verb (or quasi-modal) in English. It is exclusively used to talk about <span class=\"term-highlight\">past habits or past states that are no longer true in the present</span>. It expresses something that happened repeatedly or was true for a period in the past, but has now changed or stopped." %}
        </p>
        <p>
            {% translate "It is important not to confuse \"used to\" with \"be used to\" (meaning accustomed to) or \"get used to\" (meaning become accustomed to), which have different meanings and grammatical structures." %}
        </p>

        <hr class="grammar-divider">

        <h4>{% translate "Forms of Used to" %}</h4>
        <p>
            {% translate "\"Used to\" is a fixed phrase that always precedes the base form of the main verb. It does not change for person or number." %}
        </p>

        <div class="grammar-table-container">
            <table class="grammar-table">
                <thead>
                    <tr>
                        <th>{% translate "Form" %}</th>
                        <th>{% translate "Structure" %}</th>
                        <th>{% translate "Example" %}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="term-highlight">{% translate "Affirmative" %}</span></td>
                        <td>{% translate "Subject + used to + Base Verb" %}</td>
                        <td><span class="code-highlight">I <span class="auxiliary-highlight">used to live</span> in London.</span><br><span class="code-highlight">She <span class="auxiliary-highlight">used to play</span> tennis every day.</span></td>
                    </tr>
                    <tr>
                        <td><span class="term-highlight">{% translate "Negative" %}</span></td>
                        <td>{% translate "Subject + did not use to / didn't use to + Base Verb" %}<br>({% translate "Less common: used not to / usedn't to" %})</td>
                        <td><span class="code-highlight">He <span class="auxiliary-highlight">didn't use to like</span> vegetables.</span><br><span class="code-highlight">They <span class="auxiliary-highlight">used not to go</span> out much.</span></td>
                    </tr>
                    <tr>
                        <td><span class="term-highlight">{% translate "Interrogative" %}</span></td>
                        <td>{% translate "Did + Subject + use to + Base Verb?" %}</td>
                        <td><span class="code-highlight"><span class="auxiliary-highlight">Did you use to live</span> here?</span><br><span class="code-highlight"><span class="auxiliary-highlight">Did she use to have</span> long hair?</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <hr class="grammar-divider">

        <h4>{% translate "Use of Used to" %}</h4>
        <p>
            {% translate "\"Used to\" has specific uses related to past actions and states that no longer hold true." %}
        </p>

        <h5>{% translate "1. Past Habits / Repeated Actions" %}</h5>
        <p>
            {% translate "This is the primary use of \"used to.\" It describes actions that happened regularly or frequently in the past but do not happen now." %}
        </p>
        <ul class="styled-list">
            <li><span class="code-highlight">I <span class="auxiliary-highlight">used to go</span> swimming every morning.</span> ({% translate "Now I don't" %})</li>
            <li><span class="code-highlight">My grandmother <span class="auxiliary-highlight">used to bake</span> cakes every Sunday.</span> ({% translate "She doesn't do it anymore" %})</li>
            <li><span class="code-highlight">They <span class="auxiliary-highlight">used to argue</span> a lot, but now they get along.</span></li>
        </ul>

        <h5>{% translate "2. Past States / Situations" %}</h5>
        <p>
            {% translate "\"Used to\" can also describe a past state or situation that was true for a period but is no longer true." %}
        </p>
        <ul class="styled-list">
            <li><span class="code-highlight">This building <span class="auxiliary-highlight">used to be</span> a factory.</span> ({% translate "Now it's something else" %})</li>
            <li><span class="code-highlight">She <span class="auxiliary-highlight">used to have</span> long hair.</span> ({% translate "Now her hair is short" %})</li>
            <li><span class="code-highlight">There <span class="auxiliary-highlight">used to be</span> a cinema on this street.</span> ({% translate "It's gone now" %})</li>
            <li><span class="code-highlight">I <span class="auxiliary-highlight">used to believe</span> in Santa Claus.</span> ({% translate "Now I don't" %})</li>
        </ul>

        <h5>{% translate "3. Comparison with \"Would\"" %}</h5>
        <p>
            {% translate "Both \"used to\" and \"would\" can describe past habits, but there's a key difference:" %}
        </p>
        <ul class="styled-list">
            <li><span class="example-highlight">{% translate "Used to:" %}</span> {% translate "Can describe both past habits (repeated actions) and past states." %}
                <ul class="styled-list">
                    <li><span class="code-highlight">I <span class="auxiliary-highlight">used to live</span> in Paris.</span> ({% translate "State" %})</li>
                    <li><span class="code-highlight">I <span class="auxiliary-highlight">used to play</span> chess every day.</span> ({% translate "Habit" %})</li>
                </ul>
            </li>
            <li><span class="example-highlight">{% translate "Would:" %}</span> {% translate "Can only describe past habits (repeated actions), not past states." %}
                <ul class="styled-list">
                    <li><span class="code-highlight">When I was young, I <span class="auxiliary-highlight">would play</span> chess every day.</span> ({% translate "Habit" %})</li>
                    <li><span class="code-highlight">*I would live in Paris.</span> ({% translate "Incorrect for a state" %})</li>
                </ul>
            </li>
        </ul>
        <p>
            {% translate "Therefore, \"used to\" is more versatile for describing the past, especially when talking about conditions or situations that have changed." %}
        </p>

        <h5>{% translate "4. Negative and Interrogative Forms" %}</h5>
        <p>
            {% translate "While \"didn't use to\" and \"did you use to?\" are the most common and grammatically standard forms, older or more formal English might use \"used not to\" or \"usedn't to\" (especially in British English) for negatives, and \"Used you to...?\" for questions (very rare now)." %}
        </p>
        <ul class="styled-list">
            <li><span class="code-highlight">He <span class="auxiliary-highlight">didn't use to smoke</span>.</span> ({% translate "Standard negative" %})</li>
            <li><span class="code-highlight"><span class="auxiliary-highlight">Did you use to go</span> to that school?</span> ({% translate "Standard question" %})</li>
        </ul>

        <div class="navigation-links">
            <a href="{% url 'verbs_page' %}" class="back-to-list-btn">
                <i class="fas fa-arrow-left"></i> {% translate "Back to Verbs" %}
            </a>
        </div>
    </div>
{% endblock %}