{% extends 'grammarpage/grammar_base.html' %}
{% load static %}
{% load i18n %}

{% block grammar_title %}{% translate "The Present Perfect" %}{% endblock %}

{% block extra_css %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'style/grammar_list.css' %}">
    <style>
        .main-container {
            padding-top: 40px;
        }

        .grammar-detail-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            color: #e0e0e0;
        }

        h3, h4 {
            color: #ff9e7d;
            border-bottom: 2px solid #444;
            padding-bottom: 5px;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h3 {
            font-size: 24px;
        }

        h4 {
            font-size: 20px;
            margin-top: 25px;
        }

        h5 {
            font-size: 18px;
            color: #83e8de;
            margin-top: 15px;
            margin-bottom: 10px;
        }

        p {
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .grammar-divider {
            border: 1px solid #444;
            margin: 20px 0;
        }

        .styled-list {
            list-style-type: none;
            padding-left: 20px;
        }

        .styled-list li {
            margin: 8px 0;
            position: relative;
            padding-left: 25px;
        }

        .styled-list li:before {
            content: "•";
            color: #4cc9f0;
            font-weight: bold;
            position: absolute;
            left: 0;
            top: 0;
        }
        
        .styled-list ol {
            padding-left: 20px;
        }

        .styled-list ol li {
            padding-left: 0;
            list-style-type: decimal;
            margin-left: 20px;
        }

        .styled-list ol li:before {
            display: none;
        }

        .styled-list .styled-list li:before {
            content: "-";
        }
        
        .styled-list .styled-list .styled-list li:before {
            content: "•";
        }

        .styled-list li ul.styled-list {
            margin-top: 5px;
        }

        .styled-list li ul.styled-list li {
            padding-left: 15px;
            margin: 4px 0;
        }

        .term-highlight, .pronoun-highlight {
            color: #ff9e7d;
            font-weight: 600;
        }
        
        .auxiliary-highlight, .ending-highlight {
            color: #83e8de;
            font-weight: 600;
        }

        .verb-highlight {
            color: #ffda47;
            font-weight: 600;
        }
        
        .code-highlight {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.2);
            display: inline-block;
            margin: 5px 0;
            padding: 2px 4px;
            border-radius: 4px;
            color: #83e8de;
            white-space: nowrap;
        }

        .example-highlight {
            color: #4cc9f0;
            font-weight: 500;
        }

        .grammar-table-container {
            overflow-x: auto;
            margin: 20px 0;
        }

        .grammar-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 0, 0, 0.1);
        }

        .grammar-table th, .grammar-table td {
            border: 1px solid #444;
            padding: 10px;
            text-align: left;
        }

        .grammar-table th {
            background: rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }

        .back-to-list-btn {
            display: inline-block;
            margin-top: 30px;
            padding: 10px 20px;
            background-color: #4cc9f0;
            color: #1e1e1e;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .back-to-list-btn:hover {
            background-color: #ff9e7d;
        }
        
        @media (max-width: 600px) {
            .grammar-detail-container {
                padding: 10px;
            }
        }
    </style>
{% endblock %}

{% block grammar_content %}
    <div class="grammar-detail-container">
        <nav class="breadcrumbs">
            <a href="{% url 'home' %}">{% translate "Home" %}</a> &raquo;
            <span><a href="{% url 'grammar_page' %}">{% translate "Grammar" %}</a></span> &raquo;
            <span><a href="{% url 'verbs_page' %}">{% translate "Verbs" %}</a></span> &raquo;
            <span>{% translate "The Present Perfect" %}</span>
        </nav>

        <h1>{% translate "The Present Perfect" %}</h1>
        <p>
            {% translate "The <span class=\"term-highlight\">Present Perfect</span> tense connects the past with the present. It describes actions that happened at an unspecified time in the past or actions that started in the past and continue up to the present moment. It always has a connection or relevance to the present." %}
        </p>

        <hr class="grammar-divider">

        <h4>{% translate "Formation of the Present Perfect" %}</h4>
        <p>
            {% translate "The Present Perfect is formed using the auxiliary verb <span class=\"auxiliary-highlight\">\"to have\"</span> (have / has) and the <span class=\"term-highlight\">past participle (V3)</span> of the main verb." %}
        </p>

        <h5>{% translate "1. Affirmative Sentences" %}</h5>
        <div class="grammar-table-container">
            <table class="grammar-table">
                <thead>
                    <tr>
                        <th>{% translate "Person / Number" %}</th>
                        <th>{% translate "Auxiliary Verb" %} (<span class="code-highlight">to have</span>)</th>
                        <th>{% translate "Main Verb (Past Participle V3)" %}</th>
                        <th>{% translate "Example" %}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><span class="pronoun-highlight">I</span></td><td><span class="auxiliary-highlight">have</span></td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">I have worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">You</span></td><td><span class="auxiliary-highlight">have</span></td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">You have worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">He / She / It</span></td><td><span class="auxiliary-highlight">has</span></td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">He has worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">We</span></td><td><span class="auxiliary-highlight">have</span></td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">We have worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">You</span></td><td><span class="auxiliary-highlight">have</span></td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">You have worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">They</span></td><td><span class="auxiliary-highlight">have</span></td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">They have worked.</span></td></tr>
                </tbody>
            </table>
        </div>
        <ul class="styled-list">
            <li><span class="term-highlight">{% translate "Contractions:" %}</span> {% translate "In informal speech and writing, contractions are very common:" %}
                <ul class="styled-list">
                    <li><span class="code-highlight">I've worked</span></li>
                    <li><span class="code-highlight">You've worked</span></li>
                    <li><span class="code-highlight">He's / She's / It's worked</span></li>
                    <li><span class="code-highlight">We've worked</span></li>
                    <li><span class="code-highlight">They've worked</span></li>
                </ul>
            </li>
        </ul>

        <hr class="grammar-divider">

        <h5>{% translate "2. Negative Sentences" %}</h5>
        <p>
            {% translate "To form negative sentences, we place <span class=\"term-highlight\">'not'</span> after the auxiliary verb \"to have\"." %}
        </p>
        <div class="grammar-table-container">
            <table class="grammar-table">
                <thead>
                    <tr>
                        <th>{% translate "Person / Number" %}</th>
                        <th>{% translate "Auxiliary Verb" %} (<span class="code-highlight">to have</span>) + not</th>
                        <th>{% translate "Main Verb (Past Participle V3)" %}</th>
                        <th>{% translate "Example" %}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><span class="pronoun-highlight">I</span></td><td><span class="auxiliary-highlight">have</span> not / haven't</td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">I have not worked.</span> / <span class="code-highlight">I haven't worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">You</span></td><td><span class="auxiliary-highlight">have</span> not / haven't</td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">You have not worked.</span> / <span class="code-highlight">You haven't worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">He / She / It</span></td><td><span class="auxiliary-highlight">has</span> not / hasn't</td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">He has not worked.</span> / <span class="code-highlight">He hasn't worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">We</span></td><td><span class="auxiliary-highlight">have</span> not / haven't</td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">We have not worked.</span> / <span class="code-highlight">We haven't worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">You</span></td><td><span class="auxiliary-highlight">have</span> not / haven't</td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">You have not worked.</span> / <span class="code-highlight">You haven't worked.</span></td></tr>
                    <tr><td><span class="pronoun-highlight">They</span></td><td><span class="auxiliary-highlight">have</span> not / haven't</td><td>work<span class="ending-highlight">ed</span></td><td><span class="code-highlight">They have not worked.</span> / <span class="code-highlight">They haven't worked.</span></td></tr>
                </tbody>
            </table>
        </div>
        <ul class="styled-list">
            <li><span class="example-highlight">{% translate "Example:" %}</span> <i><span class="code-highlight">{% translate "She hasn't finished her homework yet." %}</span></i></li>
            <li><span class="example-highlight">{% translate "Example:" %}</span> <i><span class="code-highlight">{% translate "They have not visited Paris." %}</span></i></li>
        </ul>

        <hr class="grammar-divider">

        <h5>{% translate "3. Interrogative Sentences (Questions)" %}</h5>
        <p>
            {% translate "To form questions, we invert the subject and the auxiliary verb \"to have\"." %}
        </p>
        <div class="grammar-table-container">
            <table class="grammar-table">
                <thead>
                    <tr>
                        <th>{% translate "Auxiliary Verb" %} (<span class="code-highlight">to have</span>)</th>
                        <th>{% translate "Subject" %}</th>
                        <th>{% translate "Main Verb (Past Participle V3)" %}</th>
                        <th>{% translate "Example" %}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><span class="auxiliary-highlight">Have</span></td><td><span class="pronoun-highlight">I</span></td><td>work<span class="ending-highlight">ed</span>?</td><td><span class="code-highlight">Have I worked?</span></td></tr>
                    <tr><td><span class="auxiliary-highlight">Have</span></td><td><span class="pronoun-highlight">you</span></td><td>work<span class="ending-highlight">ed</span>?</td><td><span class="code-highlight">Have you worked?</span></td></tr>
                    <tr><td><span class="auxiliary-highlight">Has</span></td><td><span class="pronoun-highlight">he / she / it</span></td><td>work<span class="ending-highlight">ed</span>?</td><td><span class="code-highlight">Has he worked?</span></td></tr>
                    <tr><td><span class="auxiliary-highlight">Have</span></td><td><span class="pronoun-highlight">we</span></td><td>work<span class="ending-highlight">ed</span>?</td><td><span class="code-highlight">Have we worked?</span></td></tr>
                    <tr><td><span class="auxiliary-highlight">Have</span></td><td><span class="pronoun-highlight">you</span></td><td>work<span class="ending-highlight">ed</span>?</td><td><span class="code-highlight">Have you worked?</span></td></tr>
                    <tr><td><span class="auxiliary-highlight">Have</span></td><td><span class="pronoun-highlight">they</span></td><td>work<span class="ending-highlight">ed</span>?</td><td><span class="code-highlight">Have they worked?</span></td></tr>
                </tbody>
            </table>
        </div>
        <ul class="styled-list">
            <li><span class="example-highlight">{% translate "Example:" %}</span> <i><span class="code-highlight">{% translate "Have you ever been to London?" %}</span></i></li>
            <li><span class="example-highlight">{% translate "Example:" %}</span> <i><span class="code-highlight">{% translate "Has she seen that movie?" %}</span></i></li>
            <li><span class="example-highlight">{% translate "Example:" %}</span> <i><span class="code-highlight">{% translate "What have you done?" %}</span></i> ({% translate "for Wh-questions" %})</li>
        </ul>

        <hr class="grammar-divider">

        <h4>{% translate "Uses of the Present Perfect" %}</h4>
        <p>
            {% translate "The Present Perfect is used to express:" %}
        </p>
        <ol class="styled-list">
            <li><span class="term-highlight">{% translate "Actions Completed in the Recent Past with a Present Result:" %}</span> {% translate "The action happened in the past, but its effect or consequence is still relevant or visible now. The exact time of the action is not important." %}
                <ul class="styled-list">
                    <li><i><span class="code-highlight">{% translate "I" %} <span class="verb-highlight">have lost</span> {% translate "my keys." %}</span></i> ({% translate "Result: I don't have them now." %})</li>
                    <li><i><span class="code-highlight">{% translate "She" %} <span class="verb-highlight">has broken</span> {% translate "her leg." %}</span></i> ({% translate "Result: Her leg is still broken now." %})</li>
                    <li><i><span class="code-highlight">{% translate "The electricity" %} <span class="verb-highlight">has gone off</span>.</span></i> ({% translate "Result: We have no electricity now." %})</li>
                </ul>
            </li>
            <li><span class="term-highlight">{% translate "Experiences / Life Experiences:" %}</span> {% translate "Actions that happened at some point in a person's life up to the present. Often used with" %} <span class="code-highlight">ever</span> ({% translate "in questions" %}) {% translate "or" %} <span class="code-highlight">never</span>.
                <ul class="styled-list">
                    <li><i><span class="code-highlight">{% translate "Have you" %} <span class="verb-highlight">ever been</span> {% translate "to New York?" %}</span></i></li>
                    <li><i><span class="code-highlight">{% translate "I" %} <span class="verb-highlight">have never eaten</span> {% translate "sushi before." %}</span></i></li>
                    <li><i><span class="code-highlight">{% translate "He" %} <span class="verb-highlight">has travelled</span> {% translate "to many countries." %}</span></i></li>
                </ul>
            </li>
            <li><span class="term-highlight">{% translate "Actions Started in the Past and Continuing to the Present:" %}</span> {% translate "Used with" %} <span class="code-highlight">for</span> ({% translate "duration" %}) {% translate "or" %} <span class="code-highlight">since</span> ({% translate "starting point" %}) {% translate "to describe actions or states that began in the past and are still ongoing." %}
                <ul class="styled-list">
                    <li><i><span class="code-highlight">{% translate "She" %} <span class="verb-highlight">has lived</span> {% translate "here" %} <span class="term-highlight">{% translate "for" %}</span> {% translate "five years." %}</span></i> ({% translate "She still lives here." %})</li>
                    <li><i><span class="code-highlight">{% translate "They" %} <span class="verb-highlight">have known</span> {% translate "each other" %} <span class="term-highlight">{% translate "since" %}</span> {% translate "childhood." %}</span></i> ({% translate "They still know each other." %})</li>
                    <li><i><span class="code-highlight">{% translate "How long" %} <span class="verb-highlight">have you worked</span> {% translate "here?" %}</span></i></li>
                </ul>
            </li>
            <li><span class="term-highlight">{% translate "Actions Completed in a Period of Time That Is Not Yet Finished:" %}</span> {% translate "Used with time expressions like" %} <span class="code-highlight">today</span>, <span class="code-highlight">this week</span>, <span class="code-highlight">this month</span>, <span class="code-highlight">this year</span>, <span class="code-highlight">lately</span>, <span class="code-highlight">recently</span>.
                <ul class="styled-list">
                    <li><i><span class="code-highlight">{% translate "I" %} <span class="verb-highlight">haven't seen</span> {% translate "him" %} <span class="term-highlight">{% translate "today" %}</span>.</span></i> ({% translate "Today is not over yet." %})</li>
                    <li><i><span class="code-highlight">{% translate "We" %} <span class="verb-highlight">have done</span> {% translate "a lot of work" %} <span class="term-highlight">{% translate "this week" %}</span>.</span></i></li>
                    <li><i><span class="code-highlight">{% translate "Have you read any good books" %} <span class="term-highlight">{% translate "recently" %}</span>?</span></i></li>
                </ul>
            </li>
            <li><span class="term-highlight">{% translate "With" %} <span class="code-highlight">just</span>, <span class="code-highlight">already</span>, <span class="code-highlight">yet</span>:</span>
                <ul class="styled-list">
                    <li><span class="code-highlight">Just</span>: {% translate "For actions completed a very short time ago." %}
                        <ul class="styled-list">
                            <li><i><span class="code-highlight">{% translate "I've" %} <span class="term-highlight">just</span> {% translate "finished my lunch." %}</span></i></li>
                        </ul>
                    </li>
                    <li><span class="code-highlight">Already</span>: {% translate "For actions that happened sooner than expected." %}
                        <ul class="styled-list">
                            <li><i><span class="code-highlight">{% translate "He's" %} <span class="term-highlight">already</span> {% translate "seen that film." %}</span></i></li>
                        </ul>
                    </li>
                    <li><span class="code-highlight">Yet</span>: {% translate "In negative sentences and questions, meaning \"up to now.\"" %}
                        <ul class="styled-list">
                            <li><i><span class="code-highlight">{% translate "They haven't arrived" %} <span class="term-highlight">yet</span>.</span></i></li>
                            <li><i><span class="code-highlight">{% translate "Have you done your homework" %} <span class="term-highlight">yet</span>?</span></i></li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ol>

        <hr class="grammar-divider">

        <h4>{% translate "Present Perfect vs. Past Simple" %}</h4>
        <p>
            {% translate "A common point of confusion is when to use the Present Perfect versus the Past Simple." %}
        </p>
        <ul class="styled-list">
            <li><span class="term-highlight">{% translate "Present Perfect:" %}</span> {% translate "Focuses on the <i>result</i> or <i>connection to the present</i>. The time is unspecified or ongoing." %}
                <ul class="styled-list">
                    <li><i><span class="code-highlight">{% translate "I" %} <span class="verb-highlight">have lost</span> {% translate "my keys." %}</span></i> ({% translate "I don't have them now - current result" %}).</li>
                </ul>
            </li>
            <li><span class="term-highlight">{% translate "Past Simple:" %}</span> {% translate "Focuses on the <i>action</i> itself, completed at a <i>specific time</i> in the past." %}
                <ul class="styled-list">
                    <li><i><span class="code-highlight">{% translate "I" %} <span class="verb-highlight">lost</span> {% translate "my keys yesterday." %}</span></i> ({% translate "The action happened yesterday, the focus is on the past event" %}).</li>
                </ul>
            </li>
        </ul>
        <p>{% translate "If you mention a specific past time (e.g.," %} <span class="code-highlight">yesterday</span>, <span class="code-highlight">last week</span>, <span class="code-highlight">in 2020</span>), {% translate "you must use the Past Simple. If the time is not specified or if the period of time is still ongoing, use the Present Perfect." %}</p>
        <p>{% translate "Understanding the nuances of the Present Perfect is essential for precise communication about past events and their ongoing impact." %}</p>

        <div class="navigation-links">
            <a href="{% url 'verbs_page' %}" class="back-to-list-btn">
                <i class="fas fa-arrow-left"></i> {% translate "Back to Verbs" %}
            </a>
        </div>
    </div>
{% endblock %}