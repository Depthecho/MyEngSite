{% extends 'grammarpage/grammar_base.html' %}
{% load static %}
{% load i18n %}

{% block grammar_title %}{% translate "Core Function: Specificity" %}{% endblock %}

{% block extra_css %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'style/grammar_list.css' %}">
    <style>
        .main-container {
            padding-top: 40px;
        }

        .grammar-detail-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            color: #e0e0e0;
        }

        h3, h4 {
            color: #ff9e7d;
            border-bottom: 2px solid #444;
            padding-bottom: 5px;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h3 {
            font-size: 24px;
        }

        h4 {
            font-size: 20px;
            margin-top: 25px;
        }

        p {
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .term-highlight {
            color: #ff9e7d;
            font-weight: 600;
        }

        .capital-highlight {
            color: #83e8de;
            font-weight: 600;
        }

        .example-highlight {
            color: #4cc9f0;
            font-weight: 500;
        }
        
        .code-highlight {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.2);
            padding: 2px 4px;
            border-radius: 4px;
            color: #83e8de;
        }

        .grammar-divider {
            border: 1px solid #444;
            margin: 20px 0;
        }

        .grammar-table-container {
            overflow-x: auto;
            margin: 20px 0;
        }

        .grammar-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 0, 0, 0.1);
        }

        .grammar-table th, .grammar-table td {
            border: 1px solid #444;
            padding: 10px;
            text-align: left;
        }

        .grammar-table th {
            background: rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }

        .styled-list {
            padding-left: 20px;
            list-style-type: none;
        }

        .styled-list li {
            margin: 8px 0;
            position: relative;
        }

        .styled-list li:before {
            content: "â€¢";
            color: #4cc9f0;
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
        }
        
        .back-to-list-btn {
            display: inline-block;
            margin-top: 30px;
            padding: 10px 20px;
            background-color: #4cc9f0;
            color: #1e1e1e;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .back-to-list-btn:hover {
            background-color: #ff9e7d;
        }
    </style>
{% endblock %}

{% block grammar_content %}
    <div class="grammar-detail-container">
        <nav class="breadcrumbs">
            <a href="{% url 'home' %}">{% translate "Home" %}</a> &raquo;
            <span><a href="{% url 'grammar_page' %}">{% translate "Grammar" %}</a></span> &raquo;
            <span><a href="{% url 'articles_page' %}">{% translate "Article" %}</a></span> &raquo;
            <span>{% translate "The Definite Article 'The'" %}</span> &raquo;
            <span>{% translate "Core Function: Specificity" %}</span>
        </nav>

        <h1>{% translate "Core Function: Specificity" %}</h1>
        <p>
            {% translate "The primary role of the definite article <span class=\"code-highlight\">the</span> is to specify a particular noun. It tells the listener or reader that the noun being referred to is unique, known, or has already been introduced in the conversation. This is the most important rule for using 'the'." %}
        </p>

        <hr class="grammar-divider">

        <h3>{% translate "When to Use 'the' for Specificity" %}</h3>
        <p>
            {% translate "The definite article is used when the noun is identifiable to both the speaker and the listener. This can happen in several ways." %}
        </p>
        
        <div class="grammar-table-container">
            <table class="grammar-table">
                <thead>
                    <tr>
                        <th>{% translate "Rule" %}</th>
                        <th>{% translate "Example" %}</th>
                        <th>{% translate "Explanation" %}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{% translate "The noun is mentioned a second time." %}</td>
                        <td>I saw a dog yesterday. <span class="code-highlight">The</span> dog was very friendly.</td>
                        <td>The first time, it's 'a dog.' The second time, both parties know which dog is being discussed.</td>
                    </tr>
                    <tr>
                        <td>{% translate "The noun is unique or one-of-a-kind." %}</td>
                        <td>We saw a beautiful sunset over <span class="code-highlight">the</span> ocean.</td>
                        <td>There's only one moon, one sun, one sky, and in this context, one specific ocean.</td>
                    </tr>
                    <tr>
                        <td>{% translate "The noun is made specific by a phrase or clause." %}</td>
                        <td>I need to find <span class="code-highlight">the</span> key that opens this door.</td>
                        <td>The phrase 'that opens this door' makes the key specific, so 'the' is used.</td>
                    </tr>
                    <tr>
                        <td>{% translate "The noun is understood from the context." %}</td>
                        <td>Could you please turn off <span class="code-highlight">the</span> light?</td>
                        <td>It is assumed that both people know which light is being referred to (the one in the room).</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <hr class="grammar-divider">

        <h3>{% translate "Comparing 'a/an' and 'the'" %}</h3>
        <p>
            {% translate "Understanding the difference between the indefinite and definite articles is key to mastering their usage." %}
        </p>
        <ul class="styled-list">
            <li><span class="example-highlight"><span class="code-highlight">A</span> cat sat on the mat.</span><br>This introduces an unspecified cat.</li>
            <li><span class="example-highlight"><span class="code-highlight">The</span> cat sat on the mat.</span><br>This refers to a specific cat that is already known to the listener.</li>
        </ul>

        <div class="navigation-links">
            <a href="{% url 'noun_page' %}" class="back-to-list-btn">
                <i class="fas fa-arrow-left"></i> {% translate "Back to Noun" %}
            </a>
        </div>
    </div>
{% endblock %}