{% load static %}
<nav class="navbar">
    <div class="navbar-container">
        <div class="navbar-logo">
            <a href="{% url 'home' %}"><img src="{% static 'favicon/logo.svg' %}" id="logo-img"></a>
        </div>

        <div class="navbar-links">
            <a href="#" class="navbar-link">Cards</a>
            <a href="#" class="navbar-link">Texts</a>
            <a href="#" class="navbar-link">Grammar</a>
            <a href="#" class="navbar-link">Test</a>
        </div>

        <div class="navbar-auth">
            {% if user.is_authenticated %}
                <div class="avatar-dropdown" id="avatarDropdown">
                    <img src="{{ user.profile.avatar.url }}" alt="User Avatar" class="avatar-img" id="avatar-img">
                    <div class="dropdown-menu" id="dropdownMenu">
                        <a href="{% url 'profile' %}" class="dropdown-item">My Profile</a>
                        <a href="#" class="dropdown-item">Settings</a>
                        <a href="{% url 'logout' %}" class="dropdown-item">Log Out</a>
                    </div>
                </div>
            {% else %}
                <div class="navbar-auth-buttons">
                    <a href="{% url 'login' %}" class="navbar-button">Log In</a>
                    <a href="#" class="settings-icon">⚙️</a>
                </div>
            {% endif %}
        </div>

        <div class="burger-menu" id="burgerMenu">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <script>
    // Открытие/закрытие выпадающего меню по клику на аватар
    const avatarDropdown = document.getElementById('avatarDropdown');
    const dropdownMenu = document.getElementById('dropdownMenu');

    avatarDropdown.addEventListener('click', (e) => {
        e.stopPropagation(); // Предотвращаем всплытие события
        dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
    });

    // Закрытие выпадающего меню при клике вне его
    document.addEventListener('click', () => {
        dropdownMenu.style.display = 'none';
    });

    // Управление бургер-меню
    const burgerMenu = document.getElementById('burgerMenu');
    const navbarLinks = document.querySelector('.navbar-links');
    const navbarAuth = document.querySelector('.navbar-auth');

    burgerMenu.addEventListener('click', () => {
        navbarLinks.classList.toggle('active');
        navbarAuth.classList.toggle('active');
        burgerMenu.classList.toggle('active');
    });
</script>
    </div>
</nav>